<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        // Generate the key from a shared resource, like localStorage or URL query param
        function generateSharedKey() {
            // Example of using a "random" but **consistent key**
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let key = '';
            // Randomly generate the key (16 characters long)
            for (let i = 0; i < 16; i++) {
                key += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return key;
        }

        // This function will check and store the generated key
        function displayLuaFile() {
            // Check if a shared key is already stored in localStorage
            let sharedKey = localStorage.getItem("sharedKey");

            // If no key is stored, generate a random one and store it
            if (!sharedKey) {
                sharedKey = generateSharedKey();
                localStorage.setItem("sharedKey", sharedKey); // Store the generated key for all users
            }

            // Create Lua content with the shared key
            const luaContent = `return {\n    "${sharedKey}"\n}`;

            // Display the Lua content
            document.getElementById("luaDisplay").innerText = luaContent;
        }

        // Call the function when the page loads
        window.onload = function() {
            displayLuaFile();
        }
    </script>
</head>
<body>
    <pre id="luaDisplay">The Lua file content will be displayed here.</pre>
</body>
</html>
